# 产品功能设计

## 1. Markdown 编辑器
1.1 标准 Markdown 语法支持
- 标题（# 1~6 级）
- 加粗、斜体、删除线
- 列表（有序、无序、任务列表）
- 引用、代码块（支持多语言高亮）
- 表格
- 图片、超链接
- 脚注、注释
数据存储
- 本地存储：所有 Markdown 文件以纯文本 .md 格式保存在本地文件系统，支持用户自由导入导出。
- 云同步（付费功能）：文件以增量快照方式同步到云端，支持多端一致。

---
## 1.2 Markdown 扩展支持
- 数学公式（KaTeX/MathJax）
- Mermaid 流程图与图表
- 自定义语法扩展（如脚本块、TOC 目录）
数据存储
- 扩展内容与普通 Markdown 混合存储，保存在本地纯文本文件。
- 渲染相关缓存可存于本地数据库，加速预览（免费）。

---
1.3 实时预览与大纲视图
- 双栏编辑与预览模式切换
- 大纲面板：自动提取标题结构，支持跳转
- 支持滚动联动，编辑区与预览区同步滚动
数据存储
- 大纲结构基于本地解析，无需额外存储。
- 预览缓存数据保存在本地，提升响应速度。

---
1.4 本地文件管理
- 文件浏览器：显示当前知识库目录结构
- 新建、重命名、删除、移动文件和文件夹
- 支持批量导入 Markdown 文件
- 支持导出为 PDF、HTML、DOCX 等格式
数据存储
- 文件系统直接操作，用户文件权限由操作系统控制。
- 文件操作日志和状态信息可存储于本地数据库中（免费）。
- 云同步功能（付费）对文件操作做增量同步。

---
## 2. AI 辅助
2.1 自动续写与灵感补全
- 根据当前光标上下文，提供续写建议
- 支持一键插入或多版本选择
- 支持写作风格定制（正式、轻松、技术等）
数据存储
- 用户输入及AI续写结果在本地缓存，提升连续编辑体验。
- AI调用及文本处理过程数据存在云端，按Token计费。

---
2.2 摘要与大纲自动生成
- 自动抽取段落/全文摘要
- 生成结构化大纲（章节/节/小节）
- 支持手动调整摘要和大纲内容
数据存储
- 生成的摘要和大纲可本地保存为文档元数据，缓存提高效率。
- 复杂摘要生成调用云端AI服务，付费用户享受更高质量结果。

---
2.3 多版本改写与风格切换
- 对同一段落生成不同风格版本
- 支持语气、专业度、简洁度调节
- 用户可对比版本，选择最佳写法
数据存储
- 多版本文本保存在本地数据库，方便切换和对比。
- 改写请求需云端计算，结果同步至本地。

---
2.4 AI 生成配图（可选）
- 根据文本自动生成插图（调用 AI 图像生成接口）
- 支持图像风格选择（写实、卡通、科技感等）
- 支持插图位置与大小调整
数据存储
- 生成图像文件存储于云端或本地，支持按需同步。
- 图像元数据保存在本地数据库，方便管理。
2.5 AI DeepResearch
- 多文献聚合
 自动从多个可信知识库、学术资源、网络数据中抓取并聚合相关信息与资料，形成综合性研究视角。
- 文献摘要与解读
 对聚合的文献进行摘要提炼，自动提炼关键结论、数据和观点，帮助用户快速理解核心内容。
- 上下文智能推荐
 基于用户当前编辑内容或研究方向，推荐相关论文、报告、案例及引用资料，支持一键导入。
- 跨领域知识关联
 利用知识图谱技术，挖掘和展示跨学科的隐含联系与研究趋势，激发创新思路。
- 深度问答与推理
 支持基于海量文献的复杂问题回答和推理，帮助用户做深入探讨和论证。
- 多轮交互式研究助手
 支持连续对话，调整检索策略和视角，动态优化研究结果，提升用户研究效率。
数据存储
- 聚合文献缓存存储于本地数据库，提升检索速度和离线访问能力（免费基础缓存）。
- 全文和元数据云端存储，支持海量数据管理和同步（付费服务）。
- 研究笔记和引用管理保存在本地，支持导出与分享。
- 调用深度AI检索和分析接口按调用量计费，用户权限和余额控制服务访问。

---
## 3. 智能知识管理
3.1 AI 实体识别与关系抽取
- 自动识别人物、地点、事件、概念等实体
- 抽取实体间因果、时间、逻辑等关系
- 定期对新文档进行图谱更新
数据存储
- 实体和关系信息保存在本地数据库中，支持快速查询。
- 知识图谱全局数据存储于云端，支持多端同步与协作（付费）。

---
3.2 智能标签自动添加
- 根据文本内容生成关键词标签
- 支持用户自定义标签体系及批量管理
- 标签支持层级结构和语义关联
数据存储
- 标签数据结构保存在本地数据库，免费用户支持基本标签管理。
- 高级语义标签及标签图谱存在云端，支持更智能的标签推荐。

---
3.3 双向链接与反向链接维护
- 自动识别文本中的内部链接（[[链接]]）
- 维护双向关系，支持从任意节点查看相关文档列表
- 链接状态可视化，提示死链或新增链接
数据存储
- 双向链接关系维护在本地数据库，免费支持基础功能。
- 云端同步保持多端一致，支持团队协作（付费）。

---
3.4 时间轴视图
- 按时间戳（文件创建/修改/内容时间）组织知识点
- 支持缩放、筛选时间段
- 支持事件标注和批注
数据存储
- 时间戳和事件数据存储于本地数据库。
- 多端同步时，时间轴数据随文档和标签一同同步（付费）。

---
3.5 专题知识库自动聚合
- 根据标签、实体、链接自动聚合相关文档为专题
- 支持专题编辑、添加描述和封面
- 支持专题间的关联和导航
数据存储
- 专题结构及元数据存储在本地数据库，免费用户可管理个人专题。
- 团队版支持云端共享专题数据，多端同步（付费）。

---
## 4. 语义搜索与问答
4.1 基于全文和图谱的语义检索
- 支持关键词和自然语言查询
- 综合全文内容、标签、图谱关系返回搜索结果
- 支持结果排序、过滤和高亮显示
数据存储
- 索引和缓存本地数据库，实现基础搜索功能（免费）。
- 复杂语义索引和多模态检索依赖云端服务（付费）。

---
4.2 跨文档智能问答
- 允许用户用自然语言提出复杂问题
- AI 在整个知识库语义空间中进行推理，提供精准答案
- 支持多轮对话，保持上下文连贯性
数据存储
- 对话历史和上下文缓存本地保存，提升体验。
- AI推理在云端进行，按调用次数计费。

---
4.3 学习建议与知识盲点提醒
- 分析用户知识库覆盖范围和薄弱部分
- 推荐补充阅读材料或生成复习计划
- 定期推送学习进度报告和知识更新
数据存储
- 分析结果及提醒策略保存在本地，支持用户查看历史。
- 云端提供高级数据分析和学习建议（付费）。
